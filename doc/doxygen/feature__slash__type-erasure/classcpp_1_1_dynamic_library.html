<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>siplasplas: cpp::DynamicLibrary Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">siplasplas
   </div>
   <div id="projectbrief">A library for C++ reflection and introspection</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcpp_1_1_dynamic_library.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcpp_1_1_dynamic_library-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cpp::DynamicLibrary Class Reference<div class="ingroups"><a class="el" href="group__utility.html">Utility</a> &raquo; <a class="el" href="group__dynamic-library.html">Dynamic-library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides a cross-platform interface to load symbols from shared libraries at runtime.  
 <a href="classcpp_1_1_dynamic_library.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dynamiclibrary_8hpp_source.html">siplasplas/utility/dynamiclibrary.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp_1_1_dynamic_library_1_1_symbol.html">Symbol</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a symbol loaded from a dynamic library.  <a href="classcpp_1_1_dynamic_library_1_1_symbol.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaa56e0cf8b02bf5de604bbce2a32fe2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcpp_1_1_dynamic_library_1_1_symbol.html">Symbol</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp_1_1_dynamic_library.html#aaa56e0cf8b02bf5de604bbce2a32fe2f">getSymbol</a> (const std::string &amp;name)</td></tr>
<tr class="memdesc:aaa56e0cf8b02bf5de604bbce2a32fe2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a symbol from this shared library.  <a href="#aaa56e0cf8b02bf5de604bbce2a32fe2f">More...</a><br /></td></tr>
<tr class="separator:aaa56e0cf8b02bf5de604bbce2a32fe2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17c29968c18ecd354b4196bf5d0f72a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp_1_1_dynamic_library.html#aa17c29968c18ecd354b4196bf5d0f72a">handle</a> () const </td></tr>
<tr class="memdesc:aa17c29968c18ecd354b4196bf5d0f72a"><td class="mdescLeft">&#160;</td><td class="mdescRight">OS-specific shared library handle.  <a href="#aa17c29968c18ecd354b4196bf5d0f72a">More...</a><br /></td></tr>
<tr class="separator:aa17c29968c18ecd354b4196bf5d0f72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e9bae652bef88d368758a889cc7b51"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp_1_1_dynamic_library.html#a75e9bae652bef88d368758a889cc7b51">path</a> () const </td></tr>
<tr class="memdesc:a75e9bae652bef88d368758a889cc7b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared library path. See <a class="el" href="classcpp_1_1_dynamic_library.html#ad29953588c6d3a43cc9d9b56d2bd8671" title="Loads a shared library. ">DynamicLibrary::load()</a>.  <a href="#a75e9bae652bef88d368758a889cc7b51">More...</a><br /></td></tr>
<tr class="separator:a75e9bae652bef88d368758a889cc7b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad29953588c6d3a43cc9d9b56d2bd8671"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcpp_1_1_dynamic_library.html">DynamicLibrary</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcpp_1_1_dynamic_library.html#ad29953588c6d3a43cc9d9b56d2bd8671">load</a> (const std::string &amp;libraryPath)</td></tr>
<tr class="memdesc:ad29953588c6d3a43cc9d9b56d2bd8671"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a shared library.  <a href="#ad29953588c6d3a43cc9d9b56d2bd8671">More...</a><br /></td></tr>
<tr class="separator:ad29953588c6d3a43cc9d9b56d2bd8671"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides a cross-platform interface to load symbols from shared libraries at runtime. </p>
<p><a class="el" href="classcpp_1_1_dynamic_library.html" title="Provides a cross-platform interface to load symbols from shared libraries at runtime. ">DynamicLibrary</a> is a RAII abstraction over a OS-specific shared library handle. The library handle is refcounted and automatically released when there are no more <a class="el" href="classcpp_1_1_dynamic_library.html" title="Provides a cross-platform interface to load symbols from shared libraries at runtime. ">DynamicLibrary</a> instances referencing it. Symbols can be loaded from the library using <a class="el" href="classcpp_1_1_dynamic_library.html#aaa56e0cf8b02bf5de604bbce2a32fe2f" title="Loads a symbol from this shared library. ">getSymbol()</a> function. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaa56e0cf8b02bf5de604bbce2a32fe2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcpp_1_1_dynamic_library_1_1_symbol.html">Symbol</a>&amp; cpp::DynamicLibrary::getSymbol </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a symbol from this shared library. </p>
<p>Library loaded symbols are cached by <a class="el" href="classcpp_1_1_dynamic_library.html" title="Provides a cross-platform interface to load symbols from shared libraries at runtime. ">DynamicLibrary</a> instances to avoid invoking the OS API again on an already loaded symbol. First call to getSymbol(&lt;symbol name&gt;) invokes DynamicLibrary::Symbol::loadSymbol() using *this as first argument. Consecuent calls read symbols from the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the symbol to load.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to the cached symbol. </dd></dl>

</div>
</div>
<a class="anchor" id="aa17c29968c18ecd354b4196bf5d0f72a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cpp::DynamicLibrary::handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OS-specific shared library handle. </p>
<dl class="section return"><dt>Returns</dt><dd><code>void*</code> pointer representing the OS-specific library handle. </dd></dl>

</div>
</div>
<a class="anchor" id="ad29953588c6d3a43cc9d9b56d2bd8671"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcpp_1_1_dynamic_library.html">DynamicLibrary</a> cpp::DynamicLibrary::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>libraryPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads a shared library. </p>
<p>This function loads a shared library from the given path. It follows the path conventions of the underlying OS API, no special path handling is done from siplasplas side. On linux, after loading the library the dlinfo() API is invoked to get the right path to the library. <a class="el" href="classcpp_1_1_dynamic_library.html" title="Provides a cross-platform interface to load symbols from shared libraries at runtime. ">DynamicLibrary</a> class can only be instanced through this factory function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">libraryPath</td><td>Path to the shared library. Can be relative to the executable working directory or absolute. The given path could not be the same registred into the <a class="el" href="classcpp_1_1_dynamic_library.html" title="Provides a cross-platform interface to load symbols from shared libraries at runtime. ">DynamicLibrary</a> instance (See details).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classcpp_1_1_dynamic_library.html" title="Provides a cross-platform interface to load symbols from shared libraries at runtime. ">DynamicLibrary</a> object representing the loaded library. If the library could not be loaded the function throws a <code>std::runtime_error</code> exception.</dd></dl>
<div class="fragment"><div class="line"><span class="keyword">auto</span> myLib = <a class="code" href="classcpp_1_1_dynamic_library.html#ad29953588c6d3a43cc9d9b56d2bd8671">DynamicLibrary::load</a>(<span class="stringliteral">&quot;myLib.dll&quot;</span>);</div></div><!-- fragment --> <dl><dt><b>Examples: </b></dt><dd><a class="el" href="cmake_2cmake-project_8cpp-example.html#a1">cmake/cmake-project.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a75e9bae652bef88d368758a889cc7b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; cpp::DynamicLibrary::path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shared library path. See <a class="el" href="classcpp_1_1_dynamic_library.html#ad29953588c6d3a43cc9d9b56d2bd8671" title="Loads a shared library. ">DynamicLibrary::load()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>const reference to the string containing the path to the library. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/siplasplas/utility/<a class="el" href="dynamiclibrary_8hpp_source.html">dynamiclibrary.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cpp</b></li><li class="navelem"><a class="el" href="classcpp_1_1_dynamic_library.html">DynamicLibrary</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
